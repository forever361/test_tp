{% extends "base.html" %}

{% block title %}Flasky{% endblock %}

{% block content %}

<style type="text/css">
    .form-bg{
        background: #00b4ef;
    }
    .form-horizontal{
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
        background: #fff;
        padding-bottom: 40px;
        border-radius: 15px;
        text-align: center;
    }

    .form-horizontal .heading{
        display: block;
        font-size: 15px;
        font-weight: 700;
        padding: 35px 0;
        border-bottom: 1px solid #f0f0f0;
        margin-bottom: 30px;
    }

    .form-horizontal .heading2{
        display: block;
        font-size: 15px;
        font-weight: 900;
    }

    .form-horizontal .heading3{
        display: block;
        font-size: 15px;
        font-weight: 500;
        padding: 35px 0;
        border-bottom: 1px solid #f0f0f0;
        margin-bottom: 6px;
    }

    .form-horizontal .form-group{
        padding: 0 20px;
        margin: 0 0 10px 0;
        position: relative;
    }

    .form-horizontal .form-control{
        background: #f0f0f0;
        border: none;
        border-radius: 10px;
        box-shadow: none;
        padding:0 20px 0 45px;
        height: 30px;
        transition: all 0.3s ease 0s;
    }
    .form-horizontal .form-control:focus{
        background: #e0e0e0;
        box-shadow: none;
        outline: 0 none;
    }
    .form-horizontal .form-group i{
        position: absolute;
        top: 12px;
        left: 60px;
        font-size: 17px;
        color: #c8c8c8;
        transition: all 0.5s ease 0s;
    }
    .form-horizontal .form-control:focus + i{
        color: #00b4ef;
    }
    .form-horizontal .fa-question-circle{
        display: inline-block;
        position: absolute;
        top: 12px;
        right: 60px;
        font-size: 20px;
        color: #808080;
        transition: all 0.5s ease 0s;
    }
    .form-horizontal .fa-question-circle{
        color: #000;
    }
    .form-horizontal .main-checkbox{
        float: left;
        width: 20px;
        height: 20px;
        background: #11a3fc;
        border-radius: 50%;
        position: relative;
        margin: 5px 0 0 5px;
        border: 1px solid #11a3fc;
    }
    .form-horizontal .main-checkbox label{
        width: 20px;
        height: 20px;
        position: absolute;
        top: 0;
        left: 0;
        cursor: pointer;
    }
    .form-horizontal .main-checkbox label:after{
        content:"";
        width: 20px;
        height: 20px;
        position: absolute;
        top: 5px;
        left: 4px;
        border: 3px solid #fff;
        border-top: none;
        border-right:none;
        background: transparent;
        opacity: 0;
        -webkit-transform: rotate(-45deg);
        transform: rotate(-45deg);
    }
    .from-horizontal .main-checkbox input[type=checkbox]{
        visibility: hidden;
    }
    .from-horizontal .main-checkbox input[type=checkbox]:checked + label:after{
        opacity: 1;
    }
    .form-horizontal .text{
        float: left;
        margin-left: 7px;
        line-height: 20px;
        padding-top: 5px;
        text-transform: capitalize;
    }
    .form-horizontal .btn1{
        width: 80px;
        margin-top: 30px;
        //float: left; 
        font-size: 14px;
        color: #777;
        background: #222222;
        border-radius: 10px;
        padding: 10px 25px;
        border: none;
        text-transform: capitalize;
        transition: all 0.5s ease 0s;
    }
    .form-horizontal .btn2{
        font-size: 14px;
        //width: 270px;
        color: #fff;
        background: #00b4ef;
        border: none;
        border-radius: 30px;
        box-shadow: none;
        //height: 30px;
        transition: all 0.3s ease 0s;
    }

    .form-horizontal .border{
        width: 500px;
        border: 2px dashed #808080;
        padding: 10px 10px 0 20px;
    }

    @media only screen and (max-width: 479px){
        .form-horizontal .form-group{
            padding: 0 25px;
        }
        .form-horizontal .form-group i{
            left: 45px;
        }
        .form-horizontal .btn{
            padding: 10px 20px;
        }
    }

    </style>

<style>
    #loading {
        position: absolute;
        width: 300px;
        height: 250px;
        top: 50%;
        left: 50%;
        margin: -25px -150px;
        background-color: #FFFFFF;
        border: 1PX solid #CCCCCC;
        text-align: center;
        padding: 20px;
    }
</style>



<!--ä¸‹é¢ä¸¤ä¸ªæ˜¯ä½¿ç”¨Code Mirrorå¿…é¡»å¼•å…¥çš„-->
<link rel="stylesheet" href="./static/codemirror/lib/codemirror.css"/>
<script src="./static/codemirror/lib/codemirror.js"></script>
<!--Javaä»£ç é«˜äº®å¿…é¡»å¼•å…¥-->
<!--<script src="./static/codemirror/mode/clike/clike.js"></script>-->
<!--<script src="./static/codemirror/mode/python/python.js"></script>-->
<script src="./static/codemirror/addon/edit/matchbrackets.js"></script>
<script src=./static/codemirror/mode/shell/shell.js></script>

<!--å¼•å…¥cssæ–‡ä»¶ï¼Œç”¨ä»¥æ”¯æŒä¸»é¢˜-->
<link rel="stylesheet" href="./static/codemirror/theme/abbott.css"/>
<link rel="stylesheet" href="./static/codemirror/theme/3024-night.css"/>
<link rel="stylesheet" href="./static/codemirror/theme/abbott.css"/>
<link rel="stylesheet" href="./static/codemirror/theme/abbott.css"/>
<link rel="stylesheet" href="./static/codemirror/theme/abbott.css"/>
<link rel="stylesheet" href="./static/codemirror/theme/abbott.css"/>


<div class="container" style="margin-top: 10px">
    <div >
         <span style="text-align: center;display:block; font-weight:bold; font-size:17px">User Guide</span>
       </div>



  <form  method="POST" style="margin-top: 10px">
    <!-- begin code -->
    <textarea id="code" name="code" >

	    In the Data Test, developers can facilitate data test (including count and value check) across databases, such as MaxCompute,
		PostgreSQL, Oracle and Teradata.
        It also supports not only single table test but also multiple tables from different databases. After you finish running the test case,
        you will receive an easy read and downloadable report.

        1. Click 'Add new test case' to create a new testcase

        2. Connection information configuration

        (1) You can give the testcase a unique name, The default name is the current time. such as 'casename2022_6_27_11_8'
        (2) And you can edit the testcase with the methods that can operate web pages.

        ####### you can chooes db type:ali, orl, pg #######
        ###here is an exemple###
        Source TYPE = pg
        Target TYPE = ali

        ####### You can configure database connection information #######
        ###here is an exemple###
        Source conn = cnl25042413.cn.hsbc:2001/UCN_00001_CRFTM.cn.hsbc,HSBC_SDM_UAT,HSBC*******
        Target conn = Ki8ccxw*******,lBSK1iKjyfgLedQP*******,cn_cds_dev,https://service.cn-hk-hsbc-d01.odps.ali-ops.cloud.cn.hsbc:443/api

        ğŸ’¡ In Connection information configuration, please be careful not to add one more or less line,or change the order of
        parameters , just modify the example!

        3. DB information configuration

        source_table= '',
        target_table= '',
        sourcedb='',
        targetdb='',
        pi= '',
        s_where_condition='',
        t_where_condition=''

        ####### This function supports batches, just fill in multiple lines #######
        ###here is an exemple ###
        SD_PKG_SCORE_REGION,CDS_BGS_SD_PKG_SCORE_REGION,,,ID_,,
        SD_PKG_SCORE_MEMBER,CDS_BGS_SD_PKG_SCORE_MEMBER,,,ID_,,

        ğŸ’¡ In DB information configuration, Please be careful not to change the parameter order, If there are multiple tables,
        you can add multiple rows

		4. Before running you can click 'Save' to save the testcase.

		5. Then click 'Run' to start the data verification, until jump to the test result page.


    </textarea>
    <!-- end code-->

</form>


</div>


<script>

        var date = new Date();
        var year = date.getFullYear();
        var month = date.getMonth();
        var day = date.getDate();
        var hour = date.getHours();
        var minute = date.getMinutes();
        var second = date.getSeconds();
        var now_time = year + '_' + month + '_' +day + '_' + hour + '_' + minute;


      var r0 = "#----------------EDIT MODE------------\n\n";
      var r1 = "#----Case_name: you must define a unique casename------------\n";
      var r2 = "Case_name = case" + now_time +"\n\n";
      var r3 = "#-----------------------------------------------------------------;\n"
      var r4 = "# SOURCE CONFIGURATION\n";
      var r5 = "#-----------------------------------------------------------------;\n\n";
      var r6 = "#----DB type: TD,Ora,MC,PG,DB2,GCP------------\n";
      var r7 = "s_dbtype = TD\n\n";
      var r8 = "#----TD server connection----------------------\n";
      var r9 = "s_host = test\n";
      var r91 = "s_username = test\n";
      var r92 = "s_pwd = test\n\n";
      var r10 = "#------Compare SQL----------------------------\n";
      var r11 = "#### s_count_SQL : SELECT count(*) FROM 123 ###\n";
      var r12 = "#### s_value_SQL : SELECT * FROM 123 WHERE arr_id='4' ###\n";
      var r13 = "#---------------------------------------------\n";
      var r131 = "s_count_SQL : SELECT count(*) FROM 123\n"
      var r132 = "s_value_SQL : SELECT * FROM 123 WHERE arr_id='4'\n\n"

      var r14 = "#-----------------------------------------------------------------;\n"
      var r15 = "# TARGET CONFIGURATION\n";
      var r16 = "#-----------------------------------------------------------------;\n\n";
      var r17 = "#----DB type: TD,Ora,MC,PG,DB2,GCP------------\n";
      var r18 = "t_dbtype = TD\n\n";
      var r19 = "#----TD server connection----------------------\n";
      var r20 = "t_host = test\n";
      var r21 = "t_username = test\n";
      var r22 = "t_pwd = test\n\n";
      var r23 = "#------Compare SQL----------------------------\n";
      var r24 = "#### t_count_SQL : SELECT count(*) FROM 123 ###\n";
      var r25 = "#### t_value_SQL : SELECT * FROM 123 WHERE arr_id='4' ###\n";
      var r26 = "#---------------------------------------------\n";
      var r27 = "t_count_SQL : SELECT count(*) FROM 123\n"
      var r28 = "t_value_SQL : SELECT * FROM 123 WHERE arr_id='4'\n\n"

      var initValue = r1 + r2 + r3 + r4 + r5 + r6+ r7+ r8+ r9+ r91+ r92+ r10+ r11+ r12+ r13+ r131+r132+ r14+ r15+ r16+ r17+ r18+ r19+ r20
      + r21+ r22+ r23+ r24+ r25+ r26+ r27+ r28;



    //æ ¹æ®DOMå…ƒç´ çš„idæ„é€ å‡ºä¸€ä¸ªç¼–è¾‘å™¨
    var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
        mode: 'shell',
        //lineNumbers: true,
        matchBrackets: true,
        theme: "abbott",	//è®¾ç½®ä¸»é¢˜
        //mode: "python", // è¯­è¨€æ¨¡å¼
        //smartIndent: true, // æ™ºèƒ½ç¼©è¿›
        //indentUnit: 4, // æ™ºèƒ½ç¼©è¿›å•ä½ä¸º4ä¸ªç©ºæ ¼é•¿åº¦
        //mode: "text/groovy",    //å®ç°groovyä»£ç é«˜äº®
        //mode: "text/x-java", //å®ç°Javaä»£ç é«˜äº®
        //lineWrapping: true,	//ä»£ç æŠ˜å 
        //foldGutter: true,
        //gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],
        //matchBrackets: true,	//æ‹¬å·åŒ¹é…
        readOnly: true,        //åªè¯»
    });



      editor.setSize('1200px', '1050px');     //è®¾ç½®ä»£ç æ¡†çš„é•¿å®½
            //å–å¾—æ–‡æœ¬æ¡†çš„å€¼
     function quzhi(){
      var value = editor.getValue();
      console.log(value)
      //editor.setValue(value)

      }

     // è®¾ç½®åˆå§‹æ–‡æœ¬ï¼Œè¿™ä¸ªé€‰é¡¹ä¹Ÿå¯ä»¥åœ¨fromTextAreaä¸­é…ç½®
      //editor.setOption("value", initValue);
     // ç¼–è¾‘å™¨æŒ‰é”®ç›‘å¬
//    editor.on("keypress", function() {
//    // æ˜¾ç¤ºæ™ºèƒ½æç¤º
//    editor.showHint(); // æ³¨æ„ï¼Œæ³¨é‡Šäº†CodeMirroråº“ä¸­show-hint.jsç¬¬131è¡Œçš„ä»£ç ï¼ˆé˜»æ­¢äº†ä»£ç è¡¥å…¨ï¼ŒåŒæ—¶æä¾›æ™ºèƒ½æç¤ºï¼‰
//    });

//    editor.setValue("");    //å…ˆä»£ç æ¡†çš„å€¼æ¸…ç©º
//    editor.setValue(obj.scriptCode);    //ç»™ä»£ç æ¡†èµ‹å€¼

    // editor.setOption("readOnly", true);
      var test = document.getElementById("test");
      test.onclick = function() {
          var value = editor.getValue();
          console.log(value);
            }




</script>



    {% endblock %}